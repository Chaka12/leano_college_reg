<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leano College of Applied Education - Start Your Future Today</title>
    <meta name="description" content="Transform your future with practical, affordable education at Leano College. Learn the skills that employers want. No barriers, just opportunities.">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Core Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.12/typed.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/splitting@1.0.6/dist/splitting.css">
    <script src="https://unpkg.com/splitting@1.0.6/dist/splitting.min.js"></script>
    <script src="main.js"></script>
    
    <style>
        :root {
            --forest-green: #1B4332;
            --terracotta: #D4A574;
            --cream: #F8F6F0;
            --sage-green: #74A57F;
            --charcoal: #2D3436;
            --white: #FFFFFF;
            --shadow-light: rgba(27, 67, 50, 0.1);
            --shadow-medium: rgba(27, 67, 50, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            color: var(--charcoal);
            background: linear-gradient(135deg, var(--cream) 0%, #F0F4F1 100%);
            overflow-x: hidden;
        }

        /* Aurora Background Animation */
        .aurora-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(135deg, 
                var(--cream) 0%, 
                #E8F0E9 25%, 
                #F0F4F1 50%, 
                #E8F0E9 75%, 
                var(--cream) 100%);
            animation: aurora-flow 20s ease-in-out infinite;
        }

        @keyframes aurora-flow {
            0%, 100% { 
                background: linear-gradient(135deg, 
                    var(--cream) 0%, 
                    #E8F0E9 25%, 
                    #F0F4F1 50%, 
                    #E8F0E9 75%, 
                    var(--cream) 100%);
            }
            25% { 
                background: linear-gradient(135deg, 
                    #E8F0E9 0%, 
                    #F0F4F1 25%, 
                    var(--cream) 50%, 
                    #E8F0E9 75%, 
                    #F0F4F1 100%);
            }
            50% { 
                background: linear-gradient(135deg, 
                    #F0F4F1 0%, 
                    var(--cream) 25%, 
                    #E8F0E9 50%, 
                    #F0F4F1 75%, 
                    var(--cream) 100%);
            }
            75% { 
                background: linear-gradient(135deg, 
                    #E8F0E9 0%, 
                    #F0F4F1 25%, 
                    var(--cream) 50%, 
                    #E8F0E9 75%, 
                    #F0F4F1 100%);
            }
        }

        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(248, 246, 240, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(27, 67, 50, 0.1);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--forest-green);
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: var(--charcoal);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: var(--forest-green);
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
            padding: 0 2rem;
            margin-top: 80px;
        }

        .hero-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .hero-content h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 700;
            line-height: 1.2;
            margin-bottom: 1.5rem;
            color: var(--forest-green);
        }

        .hero-content .highlight {
            color: var(--terracotta);
            position: relative;
        }

        .hero-content p {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            color: var(--charcoal);
            opacity: 0.9;
        }

        .value-props {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 2.5rem;
        }

        .value-prop {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.75rem 1.5rem;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 50px;
            box-shadow: 0 4px 20px var(--shadow-light);
            backdrop-filter: blur(10px);
        }

        .value-prop-icon {
            width: 24px;
            height: 24px;
            background: var(--forest-green);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.8rem;
        }

        .cta-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 2.5rem;
            background: var(--forest-green);
            color: white;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 8px 30px rgba(27, 67, 50, 0.3);
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(27, 67, 50, 0.4);
            background: #0f2a1c;
        }

        .hero-image {
            position: relative;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 60px var(--shadow-medium);
        }

        .hero-image img {
            width: 100%;
            height: 500px;
            object-fit: cover;
        }

        /* Programs Preview */
        .programs-preview {
            padding: 6rem 2rem;
            background: rgba(255, 255, 255, 0.5);
        }

        .section-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-header h2 {
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 700;
            color: var(--forest-green);
            margin-bottom: 1rem;
        }

        .section-header p {
            font-size: 1.2rem;
            color: var(--charcoal);
            opacity: 0.8;
            max-width: 600px;
            margin: 0 auto;
        }

        .programs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .program-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 40px var(--shadow-light);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .program-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 60px var(--shadow-medium);
        }

        .program-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .program-content {
            padding: 2rem;
        }

        .program-content h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--forest-green);
            margin-bottom: 0.5rem;
        }

        .program-duration {
            color: var(--terracotta);
            font-weight: 500;
            margin-bottom: 1rem;
        }

        .program-description {
            color: var(--charcoal);
            opacity: 0.8;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .program-cta {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background: var(--sage-green);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-weight: 500;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-family: inherit;
            font-size: 1rem;
        }

        .program-cta:hover {
            background: var(--forest-green);
            transform: translateY(-1px);
        }

        /* Success Stories */
        .success-stories {
            padding: 6rem 2rem;
            background: linear-gradient(135deg, var(--forest-green) 0%, #0f2a1c 100%);
            color: white;
        }

        .success-stories h2 {
            color: white;
            text-align: center;
            margin-bottom: 4rem;
        }

        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .testimonial {
            background: rgba(255, 255, 255, 0.1);
            padding: 2rem;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .testimonial-text {
            font-style: italic;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .testimonial-author {
            font-weight: 600;
            color: var(--terracotta);
        }

        .testimonial-program {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /* Why Leano */
        .why-leano {
            padding: 6rem 2rem;
            background: rgba(255, 255, 255, 0.3);
        }

        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .benefit {
            text-align: center;
            padding: 2rem;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px var(--shadow-light);
        }

        .benefit-icon {
            width: 60px;
            height: 60px;
            background: var(--terracotta);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            color: white;
            font-size: 1.5rem;
        }

        .benefit h3 {
            color: var(--forest-green);
            margin-bottom: 1rem;
            font-weight: 600;
        }

        /* Footer */
        .footer {
            background: var(--charcoal);
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .footer p {
            opacity: 0.8;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-container {
                grid-template-columns: 1fr;
                gap: 2rem;
                text-align: center;
            }

            .nav-links {
                display: none;
            }

            .programs-grid {
                grid-template-columns: 1fr;
            }

            .value-props {
                align-items: center;
            }

            .value-prop {
                max-width: 300px;
            }
        }

        /* Animation Classes */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
        }

        .slide-in-left {
            opacity: 0;
            transform: translateX(-50px);
        }

        .slide-in-right {
            opacity: 0;
            transform: translateX(50px);
        }

        /* Form Overlay */
        .form-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }

        .form-container {
            background: white;
            padding: 3rem;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.3);
        }

        .close-form {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: var(--charcoal);
            opacity: 0.6;
        }

        .close-form:hover {
            opacity: 1;
        }

        .form-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--forest-green);
            margin-bottom: 1rem;
            text-align: center;
        }

        .form-subtitle {
            text-align: center;
            color: var(--charcoal);
            opacity: 0.8;
            margin-bottom: 2rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--charcoal);
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--forest-green);
        }

        .submit-button {
            width: 100%;
            padding: 1rem;
            background: var(--forest-green);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .submit-button:hover {
            background: #0f2a1c;
            transform: translateY(-1px);
        }

        .submit-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
            display: none;
        }
    </style>
</head>
<body>
    <div class="aurora-bg"></div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="#" class="logo">Leano College</a>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="programs.html">Programs</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-container">
            <div class="hero-content fade-in">
                <h1>Start Your Future at <span class="highlight">Leano College</span></h1>
                <p>Transform your life with practical, affordable education designed for real-world success. No barriers, just opportunities.</p>
                
                <div class="value-props">
                    <div class="value-prop slide-in-left">
                        <div class="value-prop-icon">‚úì</div>
                        <span>Affordable Education</span>
                    </div>
                    <div class="value-prop slide-in-left">
                        <div class="value-prop-icon">‚úì</div>
                        <span>Practical Skills</span>
                    </div>
                    <div class="value-prop slide-in-left">
                        <div class="value-prop-icon">‚úì</div>
                        <span>Supportive Community</span>
                    </div>
                </div>

                <a href="programs.html" class="cta-button">
                    Browse All Programs
                    <span>‚Üí</span>
                </a>
            </div>
            
            <div class="hero-image slide-in-right">
                <img src="resources/hero-education.jpg" alt="Leano College Students" />
            </div>
        </div>
    </section>

    <!-- Programs Preview -->
    <section class="programs-preview">
        <div class="section-container">
            <div class="section-header fade-in">
                <h2>Featured Programs</h2>
                <p>Choose from our range of practical, career-focused programs designed to give you the skills employers want.</p>
            </div>

            <div class="programs-grid">
                
                <!-- Information Technology -->
                <div class="program-card fade-in" data-program="it">
                    <img src="resources/program-ict.jpg" alt="Information Technology" class="program-image">
                    <div class="program-content">
                        <h3>Diploma in Information Technology</h3>
                        <div class="program-duration">3 Years</div>
                        <p class="program-description">Learn essential digital skills, web development, and computer applications. Start your career in the growing tech sector with hands-on training.</p>
                        <button class="program-cta" onclick="openForm('Diploma in Information Technology')">
                            Apply
                            <span>‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Occupational Health & Safety -->
                <div class="program-card fade-in" data-program="health-safety">
                    <img src="resources/program-education.jpg" alt="Occupational Health and Safety" class="program-image">
                    <div class="program-content">
                        <h3>Diploma in Occupational Health and Safety Management</h3>
                        <div class="program-duration">2 Years</div>
                        <p class="program-description">Protect lives and create safer workplaces. Learn risk assessment, safety regulations, and emergency management to become a qualified occupational health and safety professional.</p>
                        <button class="program-cta" onclick="openForm('Occupational Health and Safety Management')">
                            Apply
                            <span>‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Catering & Advanced Science -->
                <div class="program-card fade-in" data-program="catering">
                    <img src="resources/program-catering.jpg" alt="Catering and Advanced Science" class="program-image">
                    <div class="program-content">
                        <h3>Certificate in Catering-Advanced Science</h3>
                        <div class="program-duration">2 Years</div>
                        <p class="program-description">Master the art of food preparation and service while exploring the science behind nutrition, hygiene, and modern culinary techniques. Gain practical and scientific expertise for a successful career in catering and hospitality.</p>
                        <button class="program-cta" onclick="openForm('Diploma in Catering & Advanced Science')">
                            Apply
                            <span>‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Hospitality & Tourism -->
                <div class="program-card fade-in" data-program="hospitality">
                    <img src="resources/program-hospitality.jpg" alt="Hospitality and Tourism" class="program-image">
                    <div class="program-content">
                        <h3>Diploma in Hospitality & Tourism Management</h3>
                        <div class="program-duration">12 Months</div>
                        <p class="program-description">Step into the dynamic world of hospitality and tourism. Learn customer service, travel operations, and event management to build a rewarding career in hotels, resorts, and the global tourism industry.</p>
                        <button class="program-cta" onclick="openForm('Certificate in Hospitality & Tourism Management')">
                            Apply
                            <span>‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Diploma in Graphic Design -->
                <div class="program-card fade-in" data-program="hospitality">
                    <img src="resources/program-design.jpg" alt="Graphic Design" class="program-image">
                    <div class="program-content">
                        <h3>Diploma in Graphic Design</h3>
                        <div class="program-duration">3 Years</div>
                        <p class="program-description">Unlock your creativity and master visual communication. Learn design principles, digital tools, and branding techniques to build a career in the dynamic field of graphic design.</p>
                        <button class="program-cta" onclick="openForm('Diploma in Graphic Design')">
                            Apply
                            <span>‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Human Resource Management -->
                <div class="program-card fade-in" data-program="human-resource">
                    <img src="resources/program-hr.jpg" alt="Human Resource Management" class="program-image">
                    <div class="program-content">
                        <h3>Diploma in Human Resource Management</h3>
                        <div class="program-duration">2 Years</div>
                        <p class="program-description">Build a career in managing people and organizations. Learn recruitment, employee relations, and performance management to become a skilled HR professional supporting workplace success.</p>
                        <button class="program-cta" onclick="openForm('Certificate in Human Resource Management')">
                            Apply
                            <span>‚Üí</span>
                        </button>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 2rem;">
                <a href="programs.html" class="cta-button">
                    View All 10 Programs
                    <span>‚Üí</span>
                </a>
            </div>
        </div>
    </section>

    <!-- Success Stories -->
    <section class="success-stories">
        <div class="section-container">
            <div class="section-header fade-in">
                <h2>Success Stories</h2>
            </div>

            <div class="testimonials-grid">
                <div class="testimonial fade-in">
                    <p class="testimonial-text">"Leano College changed my life. The business administration program gave me the skills and confidence to start my own company. Now I employ 15 people!"</p>
                    <div class="testimonial-author">Thabo Mokoena</div>
                    <div class="testimonial-program">Diploma in Business Administration, 2022</div>
                </div>

                <div class="testimonial fade-in">
                    <p class="testimonial-text">"The IT program was exactly what I needed. The hands-on training and supportive teachers helped me land a great job in tech support within 3 months of graduating."</p>
                    <div class="testimonial-author">Lerato Mohapi</div>
                    <div class="testimonial-program">Diploma in Information Technology, 2023</div>
                </div>

                <div class="testimonial fade-in">
                    <p class="testimonial-text">"As a chef, the Catering-Advanced Science program gave me both practical cooking skills and scientific knowledge that elevated my career to new heights!"</p>
                    <div class="testimonial-author">Mampho Letsie</div>
                    <div class="testimonial-program">Diploma in Catering-Advanced Science, 2022</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Why Leano -->
    <section class="why-leano">
        <div class="section-container">
            <div class="section-header fade-in">
                <h2>Why Choose Leano College?</h2>
            </div>

            <div class="benefits-grid">
                <div class="benefit fade-in">
                    <div class="benefit-icon">üí∞</div>
                    <h3>Affordable Tuition</h3>
                    <p>Quality education that fits your budget with flexible payment plans and financial assistance options.</p>
                </div>

                <div class="benefit fade-in">
                    <div class="benefit-icon">‚è∞</div>
                    <h3>Flexible Schedule</h3>
                    <p>Day, evening, and weekend classes designed to work around your job and family commitments.</p>
                </div>

                <div class="benefit fade-in">
                    <div class="benefit-icon">üõ†Ô∏è</div>
                    <h3>Practical Skills</h3>
                    <p>Hands-on training with real-world applications that employers value and reward.</p>
                </div>

                <div class="benefit fade-in">
                    <div class="benefit-icon">ü§ù</div>
                    <h3>Job Placement</h3>
                    <p>Career services and industry connections to help you find employment after graduation.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="section-container">
            <p>&copy; 2024 Leano College of Applied Education. Empowering futures through practical education.</p>
            <p style="margin-top: 0.5rem; font-size: 0.9rem;">
                Mankoaneng, Police Station Area, Hlotse, Leribe | +266 5714 3583
            </p>
        </div>
    </footer>

    <!-- Interest Form Overlay -->
    <div class="form-overlay" id="formOverlay">
        <div class="form-container">
            <button class="close-form" onclick="closeForm()">&times;</button>
            <div class="success-message" id="successMessage">
                Thank you! We'll contact you within 24 hours to discuss your future at Leano College.
            </div>
            
            <h2 class="form-title">Express Your Interest</h2>
            <p class="form-subtitle">Take the first step towards your future. No commitment required.</p>
            
            <form id="interestForm">
                <div class="form-group">
                    <label for="firstName">First Name *</label>
                    <input type="text" id="firstName" name="firstName" required>
                </div>
                
                <div class="form-group">
                    <label for="lastName">Last Name *</label>
                    <input type="text" id="lastName" name="lastName" required>
                </div>
                
                <div class="form-group">
                    <label for="phone">Phone Number *</label>
                    <input type="tel" id="phone" name="phone" required>
                </div>
                
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" name="email">
                </div>
                
                <div class="form-group">
                    <label for="program">Program of Interest</label>
                    <select id="program" name="program">
                        <option value="">Select a program...</option>
                        <option value="Diploma in Information Technology">Diploma in Information Technology</option>
                        <option value="Occupational Health and Safety Management">Occupational Health and Safety Management</option>
                        <option value="Diploma in Catering & Advanced Science">Certificate in Catering & Advanced Science</option>
                        <option value="Diploma in Business Management">Diploma in Business Management</option>
                        <option value="Certificate in Hospitality & Tourism Management">Diploma in Hospitality & Tourism Management</option>
                        <option value="Certificate in Human Resource Management">Diploma in Human Resource Management</option>
                        <option value="Certificate in Legal Studies">Diploma in Legal Studies</option>
                        <option value="Certificate in Graphic Design">Diploma in Graphic Design</option>
                        <option value="Certificate in Beauty Therapy">Diploma in Beauty Therapy</option>
                    </select>
                </div>
                
                <button type="submit" class="submit-button" id="submitButton">
                    Submit Interest
                </button>
            </form>
        </div>
    </div>

    <script>
    // Main page functionality - simplified to use main.js
    document.addEventListener('DOMContentLoaded', () => {
        // Initialize the main app from main.js
        window.leanoApp = new LeanoCollegeApp();
        
        // Setup animations for homepage
        setupHomepageAnimations();
        setupProgramCards();
        
        // Setup form with single listener
        setupFormWithSingleListener();
        
        // Close form when clicking outside
        document.getElementById('formOverlay').addEventListener('click', (e) => {
            if (e.target.id === 'formOverlay') {
                closeForm();
            }
        });
    });
    
    function setupHomepageAnimations() {
        // Animate elements on scroll
        const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry, index) => {
                if (entry.isIntersecting) {
                    setTimeout(() => {
                        anime({
                            targets: entry.target,
                            opacity: [0, 1],
                            translateY: [30, 0],
                            duration: 800,
                            easing: 'easeOutQuart'
                        });
                    }, index * 100);
                }
            });
        }, { threshold: 0.1 });
        
        document.querySelectorAll('.fade-in, .slide-in-left, .slide-in-right').forEach(el => {
            observer.observe(el);
        });
        
        // Animate hero elements
        const heroContent = document.querySelector('.hero-content');
        const heroImage = document.querySelector('.hero-image');
        
        if (heroContent) {
            anime({
                targets: heroContent,
                opacity: [0, 1],
                translateY: [50, 0],
                duration: 1000,
                easing: 'easeOutQuart'
            });
        }
        
        if (heroImage) {
            anime({
                targets: heroImage,
                opacity: [0, 1],
                translateX: [100, 0],
                duration: 1000,
                easing: 'easeOutQuart',
                delay: 300
            });
        }
    }
    
    function setupProgramCards() {
        document.querySelectorAll('.program-card').forEach(card => {
            card.addEventListener('click', (e) => {
                if (!e.target.closest('.program-cta')) {
                    window.location.href = 'programs.html';
                }
            });
        });
    }
    
    function setupFormWithSingleListener() {
        const form = document.getElementById('interestForm');
        if (!form) return;
        
        // Remove any existing event listeners first by cloning the form
        const newForm = form.cloneNode(true);
        form.parentNode.replaceChild(newForm, form);
        
        // Add ONLY ONE event listener
        newForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            await handleFormSubmission(this);
        });
        
        console.log('‚úÖ Form setup with single listener');
    }
    
    async function handleFormSubmission(form) {
        // Prevent multiple submissions
        if (window.isFormSubmitting) {
            console.log('‚è≥ Form already submitting, please wait...');
            return;
        }
        
        window.isFormSubmitting = true;
        
        // Disable submit button
        const submitButton = form.querySelector('button[type="submit"]');
        const originalText = submitButton ? submitButton.textContent : 'Submit Interest';
        if (submitButton) {
            submitButton.disabled = true;
            submitButton.textContent = 'Submitting...';
        }
        
        try {
            const formData = new FormData(form);
            const leadData = {
                id: Date.now().toString(),
                timestamp: new Date().toISOString(),
                firstName: formData.get('firstName'),
                lastName: formData.get('lastName'),
                phone: formData.get('phone'),
                email: formData.get('email'),
                program: formData.get('program') || 'Not specified',
                status: 'new',
                notes: ''
            };
            
            // Prepare data for Google Sheets
            const rowData = [
                leadData.timestamp,
                leadData.firstName,
                leadData.lastName,
                leadData.phone,
                leadData.email,
                leadData.program,
                leadData.status
            ];
            
            // Save to Google Sheets
            const GOOGLE_SCRIPT_URL = window.leanoApp.GOOGLE_SCRIPT_URL;
            await fetch(GOOGLE_SCRIPT_URL, {
                method: 'POST',
                mode: 'no-cors',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(rowData)
            });
            
            console.log('‚úÖ Lead saved to Google Sheets from homepage');
            
            // Also save locally
            window.leanoApp.leads.push(leadData);
            localStorage.setItem('leanoLeads', JSON.stringify(window.leanoApp.leads));
            
            // Show success message
            showSuccessMessage();
            
            // Redirect to thank-you page after 2 seconds
            setTimeout(() => {
                window.location.href = 'thank-you.html';
            }, 2000);
            
        } catch (error) {
            console.error('‚ùå Form submission error:', error);
            
            // Fallback: Save to localStorage only
            const formData = new FormData(form);
            const leadData = {
                id: Date.now().toString(),
                timestamp: new Date().toISOString(),
                firstName: formData.get('firstName'),
                lastName: formData.get('lastName'),
                phone: formData.get('phone'),
                email: formData.get('email'),
                program: formData.get('program') || 'Not specified',
                status: 'new',
                notes: ''
            };
            
            window.leanoApp.leads.push(leadData);
            localStorage.setItem('leanoLeads', JSON.stringify(window.leanoApp.leads));
            
            // Still show success to user
            showSuccessMessage();
            
            // Redirect anyway
            setTimeout(() => {
                window.location.href = 'thank-you.html';
            }, 2000);
            
        } finally {
            // Re-enable button after 3 seconds
            setTimeout(() => {
                window.isFormSubmitting = false;
                if (submitButton) {
                    submitButton.disabled = false;
                    submitButton.textContent = originalText;
                }
            }, 3000);
        }
    }
    
    function showSuccessMessage() {
        const successMessage = document.getElementById('successMessage');
        const form = document.getElementById('interestForm');
        
        if (successMessage && form) {
            successMessage.style.display = 'block';
            form.style.display = 'none';
            
            anime({
                targets: successMessage,
                scale: [0.9, 1],
                opacity: [0, 1],
                duration: 500,
                easing: 'easeOutBack'
            });
        }
    }
    
    // Global functions for form overlay
    function openForm(programName = '') {
        const overlay = document.getElementById('formOverlay');
        const programSelect = document.getElementById('program');
        
        if (overlay) {
            overlay.style.display = 'flex';
            document.body.style.overflow = 'hidden';
            
            if (programName && programSelect) {
                programSelect.value = programName;
            }
            
            // Reset form state when opening
            const form = document.getElementById('interestForm');
            const successMessage = document.getElementById('successMessage');
            const submitButton = document.getElementById('submitButton');
            
            if (form) form.style.display = 'block';
            if (successMessage) successMessage.style.display = 'none';
            if (submitButton) {
                submitButton.disabled = false;
                submitButton.textContent = 'Submit Interest';
            }
            
            anime({
                targets: '.form-container',
                scale: [0.8, 1],
                opacity: [0, 1],
                duration: 400,
                easing: 'easeOutBack'
            });
        }
    }
    
    function closeForm() {
        const overlay = document.getElementById('formOverlay');
        const form = document.getElementById('interestForm');
        const successMessage = document.getElementById('successMessage');
        
        if (overlay) {
            anime({
                targets: '.form-container',
                scale: [1, 0.8],
                opacity: [1, 0],
                duration: 300,
                easing: 'easeInBack',
                complete: () => {
                    overlay.style.display = 'none';
                    document.body.style.overflow = 'auto';
                    
                    if (form) {
                        form.style.display = 'block';
                        form.reset();
                    }
                    if (successMessage) {
                        successMessage.style.display = 'none';
                    }
                    
                    // Reset submission flag when form closes
                    window.isFormSubmitting = false;
                }
            });
        }
    }
</script>
</body>
</html>
